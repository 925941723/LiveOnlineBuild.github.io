window.__require=function e(t,o,i){function n(r,s){if(!o[r]){if(!t[r]){var c=r.split("/");if(c=c[c.length-1],!t[c]){var l="function"==typeof __require&&__require;if(!s&&l)return l(c,!0);if(a)return a(c,!0);throw new Error("Cannot find module '"+r+"'")}r=c}var h=o[r]={exports:{}};t[r][0].call(h.exports,function(e){return n(t[r][1][e]||e)},h,h.exports,e,t,o,i)}return o[r].exports}for(var a="function"==typeof __require&&__require,r=0;r<i.length;r++)n(i[r]);return n}({BaseItem:[function(e,t){"use strict";cc._RF.push(t,"7d12dQJYMdFtIla1J7WG9GE","BaseItem"),cc.Class({extends:cc.Component,init:function(e){this.data=null,this.eventListener=e},setItem:function(e){this.data=e}}),cc._RF.pop()},{}],BillHistory:[function(e,t){"use strict";cc._RF.push(t,"f539c3BVUlFhb1067JoMm05","BillHistory"),t.exports=[],cc._RF.pop()},{}],Config:[function(e,t){"use strict";cc._RF.push(t,"932beqYhFhMK5FTqeEfeCsD","Config"),t.exports={CPI:.04,defaultPower:1e3,powerToMoneyRatio:100,company:[{name:"1",x:8e4,y:45e3,rate:.3,ratio:1.2},{name:"2",x:5e4,y:4e4,rate:.2,ratio:1.1},{name:"3",x:9e4,y:3e4,rate:.16,ratio:1.1},{name:"4",x:55e3,y:6e4,rate:.14,ratio:1},{name:"5",x:4e4,y:2e4,rate:.08,ratio:1},{name:"6",x:135e3,y:45e3,rate:.06,ratio:1},{name:"7",x:11e4,y:7e4,rate:.04,ratio:.9},{name:"8",x:135e3,y:18e3,rate:.02,ratio:.8}],liveAddress:[{name:"1",x:79500,y:44500,good:100,normal:50,bad:33,sell:1e5},{name:"2",x:78e3,y:55e3,good:80,normal:40,bad:27,sell:8e4},{name:"3",x:92e3,y:44e3,good:60,normal:35,bad:24,sell:7e4},{name:"4",x:39e3,y:52500,good:50,normal:28,bad:21,sell:5e4},{name:"5",x:8e4,y:23e3,good:45,normal:27,bad:20,sell:45e3},{name:"6",x:47e3,y:25e3,good:40,normal:26,bad:19,sell:4e4},{name:"7",x:125e3,y:5e4,good:35,normal:25,bad:18,sell:35e3},{name:"8",x:3e4,y:42e3,good:30,normal:24,bad:17,sell:3e4},{name:"9",x:47e3,y:15e3,good:29,normal:23,bad:16,sell:29e3},{name:"10",x:33e3,y:72e3,good:28,normal:22,bad:15,sell:28e3},{name:"11",x:7e4,y:75e3,good:27,normal:21,bad:14,sell:27e3},{name:"12",x:125e3,y:68e3,good:25,normal:20,bad:13,sell:25e3},{name:"13",x:145e3,y:15e3,good:20,normal:12,bad:10,sell:2e4},{name:"14",x:15e4,y:8e4,good:18,normal:10,bad:9,sell:18e3}],liveAreaType:[{type:0,area:30,name:"\u5355\u95f4"},{type:1,area:45,name:"\u4e00\u623f\u4e00\u5385"},{type:2,area:70,name:"\u4e24\u623f\u4e00\u5385"},{type:3,area:100,name:"\u4e09\u623f\u4e00\u5385"},{type:4,area:140,name:"\u56db\u623f\u4e24\u5385"}],companyCharacteristic:{canKnow:[{name:"1.1",good:"\u4e0d\u52a0\u73ed",normal:"\u5076\u7136\u52a0\u73ed",bad:"\u80fd\u6297\u538b,\u5f39\u6027\u5de5\u4f5c",goodEffect:[{name:"tired",action:"add",number:5},{name:"mood",action:"reduce",number:5},{name:"health",action:"reduce",number:5}],normalEffect:[{name:"tired",action:"add",number:25},{name:"mood",action:"reduce",number:25},{name:"health",action:"reduce",number:25}],badEffect:[{name:"tired",action:"add",number:50},{name:"pressure",action:"add",number:50},{name:"mood",action:"reduce",number:50},{name:"health",action:"reduce",number:50},{name:"charm",action:"reduce",number:50}]},{name:"1.2",good:"15\u85aa",normal:"13\u85aa",bad:"12\u85aa",goodEffect:[],normalEffect:[],badEffect:[]}],talkKnow:[{name:"2.1",good:"1\u53f7\u53d1\u5de5\u8d44",normal:"10\u53f7\u53d1\u5de5\u8d44",bad:"25\u53f7\u53d1\u5de5\u8d44",goodEffect:[],normalEffect:[],badEffect:[]},{name:"2.2",good:"\u516d\u9669\u4e00\u91d1\u5168\u989d",normal:"\u4e94\u9669\u5168\u989d\u4e00\u91d1\u4e8c\u767e\u5757",bad:"\u4e94\u9669\u6309\u6700\u4f4e\u6807\u51c6",goodEffect:[],normalEffect:[],badEffect:[]},{name:"2.3",good:"10\u5929\u5e74\u5047",normal:"5\u5929\u5e74\u5047",bad:"\u6ca1\u6709\u5e74\u5047",goodEffect:[{name:"tired",action:"reduce",number:10},{name:"pressure",action:"reduce",number:10},{name:"mood",action:"add",number:10},{name:"health",action:"add",number:10}],normalEffect:[{name:"tired",action:"reduce",number:5},{name:"pressure",action:"reduce",number:5},{name:"mood",action:"add",number:5},{name:"health",action:"add",number:5}],badEffect:[]},{name:"2.4",good:"\u5de5\u4f5c\u91cf\u9002\u4e2d",normal:"\u5de5\u4f5c\u91cf\u7a0d\u9ad8",bad:"\u5de5\u4f5c\u91cf\u5f88\u5927",goodEffect:[{name:"tired",action:"add",number:20},{name:"pressure",action:"add",number:20},{name:"mood",action:"reduce",number:20}],normalEffect:[{name:"tired",action:"add",number:40},{name:"pressure",action:"add",number:40},{name:"mood",action:"reduce",number:40}],badEffect:[{name:"tired",action:"add",number:80},{name:"pressure",action:"add",number:80},{name:"mood",action:"reduce",number:80}]},{name:"2.5",good:"OA\u7b80\u4fbf\u516c\u53f8\u6761\u4f8b\u8f7b\u677e",normal:"OA\u4e2d\u7b49\u516c\u53f8\u6761\u4f8b\u4e00\u822c",bad:"OA\u7e41\u6742\u516c\u53f8\u6761\u4f8b\u538b\u6291",goodEffect:[],normalEffect:[{name:"pressure",action:"add",number:20},{name:"mood",action:"reduce",number:20}],badEffect:[{name:"pressure",action:"add",number:40},{name:"mood",action:"reduce",number:40}]},{name:"2.6",good:"\u7a33\u5b9a",normal:"\u5076\u5c14\u88c1\u5458",bad:"\u672b\u4f4d\u6dd8\u6c70",goodEffect:[],normalEffect:[],badEffect:[]}],cannotKnow:[{name:"3.1",good:"\u5de5\u4f5c\u6709\u6311\u6218\u53ef\u4ee5\u6210\u957f",normal:"\u5de5\u4f5c\u4e00\u822c\u6709\u4e00\u70b9\u6210\u957f",bad:"\u5de5\u4f5c\u65e0\u6210\u957f",goodEffect:[{name:"power",action:"add",number:30}],normalEffect:[{name:"power",action:"add",number:20}],badEffect:[{name:"power",action:"add",number:10}]},{name:"3.2",good:"\u6da8\u85aa\u5feb",normal:"\u6da8\u85aa\u4e00\u822c",bad:"\u6da8\u85aa\u6162",goodEffect:[],normalEffect:[],badEffect:[]},{name:"3.3",good:"\u6709\u664b\u5347\u901a\u9053",normal:"\u5c11\u664b\u5347\u901a\u9053",bad:"\u65e0\u664b\u5347\u901a\u9053",goodEffect:[{name:"hope",action:"add",number:10}],normalEffect:[{name:"hope",action:"reduce",number:10}],badEffect:[{name:"hope",action:"reduce",number:20}]},{name:"3.4",good:"\u4e0a\u7ea7\u6709\u80fd\u529b\u4eba\u6027\u5316",normal:"\u4e0a\u7ea7\u53ea\u4f1a\u7167\u7ae0\u529e\u4e8b",bad:"\u4e0a\u7ea7\u65e0\u80fd\u547d\u4ee4\u5f0f",goodEffect:[{name:"pressure",action:"reduce",number:0},{name:"mood",action:"add",number:50}],normalEffect:[{name:"pressure",action:"add",number:50},{name:"mood",action:"reduce",number:50}],badEffect:[{name:"pressure",action:"add",number:100},{name:"mood",action:"reduce",number:100}]},{name:"3.5",good:"\u540c\u4e8b\u95f4\u5171\u540c\u8fdb\u6b65",normal:"\u540c\u4e8b\u95f4\u5173\u7cfb\u4e00\u822c",bad:"\u540c\u4e8b\u95f4\u515a\u540c\u4f10\u5f02",goodEffect:[{name:"pressure",action:"reduce",number:50},{name:"mood",action:"add",number:50}],normalEffect:[{name:"pressure",action:"add",number:0},{name:"mood",action:"reduce",number:0}],badEffect:[{name:"pressure",action:"add",number:50},{name:"mood",action:"reduce",number:50}]}]},eat:[{type:0,breakfast:2,lunch:10,dinner:10,feast:0},{type:1,breakfast:5,lunch:15,dinner:15,feast:100,feastTimes:2},{type:2,breakfast:10,lunch:20,dinner:30,feast:200,feastTimes:4}],clothing:[{type:0,money:200},{type:1,money:500}],leftTimeLabel:[{type:0,label:"24\u5c0f\u65f6-\u7761\u7720\u65f6\u95f4\r\n-3\u9910*0.5\u5c0f\u65f6\r\n-0.5\u6d17\u6f31\u65f6\u95f4\r\n-\u9762\u8bd5\u4e0e\u8def\u90144\u5c0f\u65f6(\u4e00\u54682\u6b21)\r\n-\u627e\u623f\u5b508\u5c0f\u65f6"},{type:1,label:"\u5de5\u4f5c\u65e5:24\u5c0f\u65f6-\u7761\u7720\u65f6\u95f4\r\n-2\u9910*0.5\u5c0f\u65f6-0.5\u5c0f\u65f6\u6d17\u6f31\u65f6\u95f4\r\n-\u901a\u52e4\u65f6\u95f4-\u5446\u516c\u53f8\u65f6\u95f48\u5c0f\u65f6\uff0c\r\n\u5468\u672b:24\u5c0f\u65f6-\u7761\u7720\u65f6\u95f4\r\n-3\u9910*0.5\u5c0f\u65f6\r\n-0.5\u5c0f\u65f6\u6d17\u6f31\u65f6\u95f4\r\n-\u627e\u623f\u5b508\u5c0f\u65f6"},{type:2,label:"\u5de5\u4f5c\u65e5:24\u5c0f\u65f6-\u7761\u7720\u65f6\u95f4\r\n-2\u9910*0.5\u5c0f\u65f6-0.5\u5c0f\u65f6\u6d17\u6f31\u65f6\u95f4\r\n-\u901a\u52e4\u65f6\u95f4-\u5446\u516c\u53f8\u65f6\u95f410\u5c0f\u65f6\uff0c\r\n\u5468\u672b:24\u5c0f\u65f6-\u7761\u7720\u65f6\u95f4\r\n-3\u9910*0.5\u5c0f\u65f6\r\n-0.5\u5c0f\u65f6\u6d17\u6f31\u65f6\u95f4-\u52a0\u73ed1\u5c0f\u65f6\r\n-\u627e\u623f\u5b508\u5c0f\u65f6"},{type:3,label:"\u5de5\u4f5c\u65e5:24\u5c0f\u65f6-\u7761\u7720\u65f6\u95f4\r\n-1\u9910*0.5\u5c0f\u65f6-0.5\u5c0f\u65f6\u6d17\u6f31\u65f6\u95f4\r\n-\u901a\u52e4\u65f6\u95f4-\u5446\u516c\u53f8\u65f6\u95f412\u5c0f\u65f6\uff0c\r\n\u5468\u65e5:24\u5c0f\u65f6-\u7761\u7720\u65f6\u95f4\r\n-3\u9910*0.5\u5c0f\u65f6\r\n-0.5\u5c0f\u65f6\u6d17\u6f31\u65f6\u95f4\r\n-\u627e\u623f\u5b508\u5c0f\u65f6"}],changeLivePay:300,bill:{date:"0\u5e741\u6708",tax:0,clothing:0,eat:0,live:0,commute:0,eleWaterNet:0,lifeThings:0,relative:0,play:0,exercise:0,other:0,all:0,addTax:function(e){this.tax=e,this.all+=e},addClothing:function(e){this.clothing=e,this.all+=e},addEat:function(e){this.eat=e,this.all+=e},addLive:function(e){this.live=e,this.all+=e},addCommute:function(e){this.commute=e,this.all+=e},addEleWaterNet:function(e){this.eleWaterNet=e,this.all+=e},addLifeThings:function(e){this.lifeThings=e,this.all+=e},addRelative:function(e){this.relative=e,this.all+=e},addPlay:function(e){this.play=e,this.all+=e},addExercise:function(e){this.exercise=e,this.all+=e},addOther:function(e){this.other=e,this.all+=e},reset:function(){this.date="0\u5e741\u6708",this.tax=0,this.clothing=0,this.eat=0,this.live=0,this.commute=0,this.eleWaterNet=0,this.lifeThings=0,this.relative=0,this.play=0,this.exercise=0,this.other=0,this.all=0}},liveInfoEffect:[{type:"bad",effect:[{name:"hope",action:"reduce",number:20},{name:"mood",action:"reduce",number:50}]},{type:"normal",effect:[]},{type:"good",effect:[{name:"mood",action:"add",number:50}]}],gov:{socialInsurance:.1,socialInsuranceLimit:300,housingAccumulationFunds:.08,housingAccumulationFundsLimit:80,tenThousandTax:.1,twentyThousandTax:.2}},cc._RF.pop()},{}],DataUtil:[function(e,t){"use strict";cc._RF.push(t,"6fa94mmidZGGZ9GCsQ5p7Yb","DataUtil");var o=e("Config"),i={generateCPI:function(e){var t=parseInt(e/12),i=e%12;return Math.pow(1+o.CPI,t)*(1+i*(o.CPI/12))},generateCPIByYear:function(e){var t=parseInt(e/12);return Math.pow(1+o.CPI,t)}};t.exports=i,cc._RF.pop()},{Config:"Config"}],EventGenerater:[function(e,t){"use strict";cc._RF.push(t,"843fepLsAdNtZPAxU0Dn1qp","EventGenerater"),cc._RF.pop()},{}],Event:[function(e,t){"use strict";cc._RF.push(t,"369f88d829CKp6Zl9FDXaJk","Event"),t.exports=[{id:"2",event:"parent_help",times:1,limit:[{table:"me",name:"money",type:"less",value:1e4,rate:.1},{table:"social",name:"total_month",type:"more",value:2,rate:1}],valueList:[{value:15e3,rate:.1},{value:2e4,rate:.8},{value:3e4,rate:.1}]},{id:"3",event:"friend_marry",times:20,limit:[],valueList:[]}],cc._RF.pop()},{}],ItemLayoutA:[function(e,t){"use strict";cc._RF.push(t,"77d375rAOdMPpLxa7eprEn0","ItemLayoutA");var o=e("./BaseItem");cc.Class({extends:o,properties:{editBox:{type:cc.Node,default:null},label_name:{type:cc.Label,default:null}},init:function(e){this._super(e)},setItem:function(e){this._super(e);var t=e.name;this.label_name.string=t},onBuyClick:function(){this.data&&this.eventListener&&this.eventListener.onBuyClick(this.data.id)}}),cc._RF.pop()},{"./BaseItem":"BaseItem"}],ItemLayoutB:[function(e,t){"use strict";cc._RF.push(t,"f05a7erXkxCypV8JeVjbsdm","ItemLayoutB");var o=e("./BaseItem");cc.Class({extends:o,properties:{toggleContainer:{type:cc.Node,default:null}},init:function(e){this._super(e)},setItem:function(e){this._super(e),e.name,e.type},onBuyClick:function(){this.data&&this.eventListener&&this.eventListener.onBuyClick(this.data.id)}}),cc._RF.pop()},{"./BaseItem":"BaseItem"}],MainPage:[function(e,t){"use strict";var o;function i(e,t){var o;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(o=n(e))||t&&e&&"number"==typeof e.length){o&&(e=o);var i=0;return function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(o=e[Symbol.iterator]()).next.bind(o)}function n(e,t){if(e){if("string"==typeof e)return a(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);return"Object"===o&&e.constructor&&(o=e.constructor.name),"Map"===o||"Set"===o?Array.from(e):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?a(e,t):void 0}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,i=new Array(t);o<t;o++)i[o]=e[o];return i}cc._RF.push(t,"29cf93iE3xG17N2hy+C9cr/","MainPage");var r=e("DataUtil"),s=e("./db/Me"),c=e("./db/Social"),l=e("./db/Event"),h=(e("./db/Wife"),e("./db/BillHistory"),e("getData")),d=e("Config");cc.Class({extends:cc.Component,properties:(o={totalMonth:0,currentCPI:1,clickable:!0,bgBalck:{type:cc.Node,default:null},doScrollView:{type:cc.ScrollView,default:null},billScrollView:{type:cc.ScrollView,default:null},month_select:{type:cc.Node,default:null},month_select_cancel:{type:cc.Node,default:null},month_select_confirm:{type:cc.Node,default:null},info_popover:{type:cc.Node,default:null},info_popover_close:{type:cc.Node,default:null},money:{type:cc.Node,default:null},housingAccumulationFunds:{type:cc.Label,default:null},toastList:[],toastShowing:!1,leftTime:1,leftTimeLabel:cc.Label,sliderLearn:cc.Slider,sliderSocial:cc.Slider,sliderHappy:cc.Slider,sliderExercise:cc.Slider,sliderRest:cc.Slider,sliderLearnProgress:cc.Label,sliderSocialProgress:cc.Label,sliderHappyProgress:cc.Label,sliderExerciseProgress:cc.Label,sliderRestProgress:cc.Label,findWorkToggle:cc.Toggle,quitWorkToggle:{type:cc.Toggle,default:null},workToggle1:cc.Toggle,workToggle2:cc.Toggle,workToggle3:cc.Toggle},o.workToggle3=cc.Toggle,o.workToggleLabel1={type:cc.Label,default:null},o.workToggleLabel2={type:cc.Label,default:null},o.workToggleLabel3={type:cc.Label,default:null},o.workPopover={type:cc.Node,default:null},o.pbLabel={type:cc.Prefab,default:null},o.workList=[],o.findWorkLayout={type:cc.Node,default:null},o.mapIcon={type:cc.Node,default:null},o.mapPopover={type:cc.Node,default:null},o.liveIcon=[],o.companyIcon=[],o.starIcon=[],o.liveLayout=[],o.changeLive=!1,o.liveTypePopover={type:cc.Node,default:null},o.tempLive={},o.tempLiveMoney={type:cc.Label,default:null},o.leftTimeHour=90,o.sleepTime=8,o.leftTimeDetail=d.leftTimeLabel[0],o.leftTimeHourLabel={type:cc.Label,default:null},o.distance=2e4,o.leftTimePopover={type:cc.Node,default:null},o.simpleLabelPopover={type:cc.Node,default:null},o.eatLabel1={type:cc.Label,default:null},o.eatLabel2={type:cc.Label,default:null},o.eatLabel3={type:cc.Label,default:null},o.clothingLabel1={type:cc.Label,default:null},o.clothingLabel2={type:cc.Label,default:null},o.lifeThingsLabel1={type:cc.Label,default:null},o.lifeThingsLabel2={type:cc.Label,default:null},o.lifeThingsLabel3={type:cc.Label,default:null},o.livePlace={type:cc.Label,default:null},o.liveMoney={type:cc.Label,default:null},o.liveMonth=0,o.depositMoney=0,o.billPopover={type:cc.Node,default:null},o.billItemLayout={type:cc.Prefab,default:null},o.billPopoverContent={type:cc.Node,default:null},o.currentMonthBill={},o.otherPay=0,o.powerProgressBar={type:cc.ProgressBar,default:null},o.moodProgressBar={type:cc.ProgressBar,default:null},o.healthProgressBar={type:cc.ProgressBar,default:null},o.charmProgressBar={type:cc.ProgressBar,default:null},o.relativeProgressBar={type:cc.ProgressBar,default:null},o.hopeProgressBar={type:cc.ProgressBar,default:null},o.pressureProgressBar={type:cc.ProgressBar,default:null},o.tiredProgressBar={type:cc.ProgressBar,default:null},o.insomniaProgressBar={type:cc.ProgressBar,default:null},o),onLoad:function(){this.sliderLearn.node.on("slide",this.sliderCallback,this),this.sliderSocial.node.on("slide",this.sliderCallback,this),this.sliderHappy.node.on("slide",this.sliderCallback,this),this.sliderExercise.node.on("slide",this.sliderCallback,this),this.sliderRest.node.on("slide",this.sliderCallback,this)},start:function(){this.getEvent(),this.initBillPopover(),this.initMonthSelect(),this.initInfoPopover(),this.initWorkPopover(),this.initLeftTimePopover(),this.initMapPopover(),this.initLiveTypePopover(),this.refreshLeftTimeHour(),this.hideSimpleLabelPopover(),this.initEatLayout(),this.doScrollView.scrollToTop(),this.billScrollView.scrollToBottom(),this.showTopToast(parseInt(this.totalMonth/12)+"\u5e74"+(this.totalMonth%12+1)+"\u67081\u53f7"),this.livePlace.string=s.live.name+"\u533a"+this.getLiveTypeName(s.live.type)+this.getRoomTypeName(s.live.area),this.otherPay=0;for(var e=0;e<d.liveAddress.length;e++){var t=d.liveAddress[e];if(s.live.name==t.name){var o=this.getCPIIntMoney(t[s.live.type]*s.live.area);this.showTopToast("\u6536\u53d6\u623f\u79df\u62bc\u91d1:\uffe5"+o+",\u672c\u6708\u623f\u79df:\uffe5"+o),this.liveMoney.string="\uffe5"+o,s.money=s.money-2*o,this.otherPay=this.otherPay+o,this.currentMonthBill.addLive(o);break}}var i=this.getCPIIntMoney(d.changeLivePay);this.showTopToast("\u642c\u5bb6\u8d39\u7528:\uffe5"+i),s.money=s.money-i,this.otherPay=this.otherPay+i,this.money.getComponent(cc.Label).string=s.money},initBillPopover:function(){this.hideBillPopover(),this.currentMonthBill=d.bill},initMonthSelect:function(){this.month_select.active=!1,this.month_select.opacity=0,this.month_select_cancel.on("touchend",function(){this.month_select.active=!1,this.month_select.opacity=0},this),this.month_select_confirm.on("touchend",function(){this.month_select.active=!1,this.month_select.opacity=0,this.nextMonth()},this)},initInfoPopover:function(){this.info_popover.active=!1,this.info_popover.opacity=0,this.info_popover_close.on("touchend",function(){this.info_popover.active=!1,this.info_popover.opacity=0},this)},initWorkPopover:function(){var e=this;this.workPopover.active=!1,this.workPopover.opacity=0;for(var t=function(t){var o=cc.find("Canvas/bgWhite/monthSimpleScrollView/view/content/workToggleLayout/workToggleContainer/talk"+(t+1));o.on(cc.Node.EventType.TOUCH_START,function(){for(var e,o=i(this.workList[t].characteristic.talkKnow);!(e=o()).done;){var n=e.value,a=cc.instantiate(this.pbLabel);a.getComponent(cc.Label).string=n.characteristic,this.workPopover.addChild(a)}this.workPopover.active=!0,this.workPopover.opacity=255},e),o.on(cc.Node.EventType.TOUCH_END,function(){this.workPopover.removeAllChildren(!0),this.workPopover.active=!1,this.workPopover.opacity=0},e),o.on(cc.Node.EventType.TOUCH_CANCEL,function(){this.workPopover.removeAllChildren(!0),this.workPopover.active=!1,this.workPopover.opacity=0},e)},o=0;o<3;o++)t(o);cc.find("Canvas/bgWhite/monthSimpleScrollView/view/content/workToggleLayout").active=!1;var n=this,a=cc.find("Canvas/bgWhite/monthSimpleScrollView/view/content/incomeLayout/workDetail");a.on(cc.Node.EventType.TOUCH_START,function(){if(s.work){for(var e,t="\u6708\u85aa:"+s.work.money+"\r\n\u5730\u70b9:"+s.work.company.name+"\u533a\r\n",o=i(s.work.characteristic.canKnow);!(e=o()).done;)t=t+e.value.characteristic+"\r\n";for(var a,r=i(s.work.characteristic.talkKnow);!(a=r()).done;)t=t+a.value.characteristic+"\r\n";if(s.work_month>=6)for(var c,l=i(s.work.characteristic.cannotKnow);!(c=l()).done;)t=t+c.value.characteristic+"\r\n";n.showSimpleLabelPopover(t)}},this),a.on(cc.Node.EventType.TOUCH_END,function(){n.hideSimpleLabelPopover()},this),a.on(cc.Node.EventType.TOUCH_CANCEL,function(){n.hideSimpleLabelPopover()},this)},initLeftTimePopover:function(){this.leftTimePopover.active=!1,this.leftTimePopover.opacity=0;var e=cc.find("Canvas/bgWhite/monthSimpleScrollView/view/content/timeLayout/detail");e.on(cc.Node.EventType.TOUCH_START,function(){this.leftTimePopover.active=!0,this.leftTimePopover.opacity=255},this),e.on(cc.Node.EventType.TOUCH_END,function(){this.leftTimePopover.active=!1,this.leftTimePopover.opacity=0},this),e.on(cc.Node.EventType.TOUCH_CANCEL,function(){this.leftTimePopover.active=!1,this.leftTimePopover.opacity=0},this)},initMapPopover:function(){var e=this,t=this;this.mapIcon.on("touchend",function(){t.showMapPopover(!1)}),this.hideMapPopover(),this.companyIcon=[],this.liveIcon=[],this.starIcon=[],this.liveLayout=[];for(var o=1;o<9;o++)this.companyIcon.push(cc.find("Canvas/mapPopover/c"+o+"/workComponyIcon"));for(var i=1;i<15;i++)this.liveIcon.push(cc.find("Canvas/mapPopover/l"+i+"/liveIcon"));for(var n=1;n<15;n++)this.starIcon.push(cc.find("Canvas/mapPopover/l"+n+"/starIcon"));for(var a=1;a<15;a++)this.liveLayout.push(cc.find("Canvas/mapPopover/l"+a));for(var r=function(o){e.liveLayout[o].on("touchend",function(){t.changeLive&&t.refreshMapLiveLayout(o)})},s=0;s<this.liveLayout.length;s++)r(s);this.refreshMapIcon()},initLiveTypePopover:function(){this.hideLiveTypePopover()},refreshMapIcon:function(){for(var e=0;e<this.companyIcon.length;e++)this.companyIcon[e].opacity=0,s.work&&s.work.company.name==d.company[e].name&&(this.companyIcon[e].opacity=255);for(var t=0;t<this.liveIcon.length;t++)this.liveIcon[t].opacity=0,s.live.name==d.liveAddress[t].name&&(this.liveIcon[t].opacity=255);for(var o=0;o<this.starIcon.length;o++)this.starIcon[o].active=!1},refreshMapLiveLayout:function(e){for(var t=0;t<this.starIcon.length;t++)t==e?(this.starIcon[t].active&&this.tempLive||(this.tempLive={name:t+1,type:"normal",area:30}),this.starIcon[t].active=!0,this.showLiveTypePopover(),this.refreshTempLiveMoney()):this.starIcon[t].active=!1},initEatLayout:function(){var e=this,t=cc.find("Canvas/bgWhite/monthSimpleScrollView/view/content/eatToggleLayout/eatToggleContainer/detail");t.on(cc.Node.EventType.TOUCH_START,function(){e.showSimpleLabelPopover("\u65e9\u9910:2/5/10\r\n\u5348\u9910:10/15/20\r\n\u665a\u9910:10/15/30\r\n\u5927\u9910:0/100/200\r\n\u5927\u9910\u6b21\u6570:0/2/4\r\n\u4e4b\u548c\u4e58\u4ee5\u7269\u4ef7\u6307\u6570")},this),t.on(cc.Node.EventType.TOUCH_END,function(){e.hideSimpleLabelPopover()},this),t.on(cc.Node.EventType.TOUCH_CANCEL,function(){e.hideSimpleLabelPopover()},this)},getEvent:function(){for(var e,t=i(l);!(e=t()).done;){for(var o,n=e.value,a=1,r=i(n.limit);!(o=r()).done;){var s=o.value;if(!this.isLegal(s)){a=0;break}a*=s.rate}Math.random()<a&&console.log("event",n.event)}},isLegal:function(e){var t="";return"me"==e.table?t=s[e.name]:"social"==e.table&&(t=c[e.name]),"equal"==e.type?t==e.value:"more"==e.type?t>e.value:t<e.value},showMonthSelect:function(){this.clickable&&(this.month_select.active=!0,this.month_select.opacity=255)},showInfoPopover:function(){this.clickable&&(this.info_popover.active=!0,this.info_popover.opacity=255)},showBillPopover:function(){this.clickable&&(this.billPopover.active=!0,this.billPopover.opacity=255)},hideBillPopover:function(){this.billPopover.active=!1,this.billPopover.opacity=0},showMapPopover:function(e){this.mapPopover.active=!0,this.mapPopover.opacity=255,this.changeLive=!!e},hideMapPopover:function(){this.mapPopover.active=!1,this.mapPopover.opacity=0,this.changeLive=!1},showLiveTypePopover:function(){this.liveTypePopover.active=!0,this.liveTypePopover.opacity=255;for(var e=[],t=[],o=1;o<4;o++)e.push(cc.find("Canvas/liveTypePopover/liveTypeToggleContainer/toggle"+o).getComponent(cc.Toggle));for(var i=1;i<6;i++)t.push(cc.find("Canvas/liveTypePopover/roomTypeToggleContainer/toggle"+i).getComponent(cc.Toggle));if(this.tempLive&&this.tempLive.name&&this.tempLive.area&&this.tempLive.type){"bad"==this.tempLive.type?e[0].isChecked=!0:"normal"==this.tempLive.type?e[1].isChecked=!0:e[2].isChecked=!0;for(var n=0;n<d.liveAreaType.length;n++)if(d.liveAreaType[n].area==this.tempLive.area){t[n].isChecked=!0;break}}},hideLiveTypePopover:function(){this.liveTypePopover.active=!1,this.liveTypePopover.opacity=0},cancelAndHideLiveTypePopover:function(){this.starIcon[parseInt(this.tempLive.name)-1].active=!1,this.tempLive={},this.hideLiveTypePopover()},liveTypeToggleEvent:function(e){var t=e;t.isChecked&&(-1!=t.name.indexOf("toggle1")?this.tempLive.type="bad":-1!=t.name.indexOf("toggle2")?this.tempLive.type="normal":this.tempLive.type="good",this.refreshTempLiveMoney())},roomTypeToggleEvent:function(e){var t=e;if(t.isChecked){var o;o=-1!=t.name.indexOf("toggle1")?30:-1!=t.name.indexOf("toggle2")?45:-1!=t.name.indexOf("toggle3")?70:-1!=t.name.indexOf("toggle4")?100:140,this.tempLive.area=o,this.refreshTempLiveMoney()}},refreshTempLiveMoney:function(){if(this.tempLive&&this.tempLive.name&&this.tempLive.area&&this.tempLive.type)for(var e=0;e<d.liveAddress.length;e++){var t=d.liveAddress[e];if(this.tempLive.name==t.name){this.tempLiveMoney.string="\uffe5"+t[this.tempLive.type]*this.tempLive.area*this.currentCPI;break}}else this.tempLive={type:"good",name:"1",area:d.liveAreaType[4]}},refreshLive:function(){var e=0;if(this.tempLive&&this.tempLive.name&&this.tempLive.area&&this.tempLive.type){s.live=JSON.parse(JSON.stringify(this.tempLive)),this.tempLive={};var t=0;this.liveMonth>=12&&(s.money=s.money+this.depositMoney,t=this.depositMoney),this.liveMonth=0;for(var o=0;o<d.liveAddress.length;o++){var i=d.liveAddress[o];if(s.live.name==i.name){e=this.getCPIIntMoney(i[s.live.type]*s.live.area);break}}this.depositMoney="good"==s.live.type?2*e:e,s.money=s.money-this.depositMoney,this.showTopToast("\u9000\u56de\u62bc\u91d1:\uffe5"+t+",\u65b0\u623f\u6536\u53d6\u62bc\u91d1:\uffe5"+this.depositMoney);var n=this.getCPIIntMoney(d.changeLivePay);this.showTopToast("\u642c\u5bb6\u8d39\u7528:\uffe5"+n),s.money=s.money-n}else for(var a=0;a<d.liveAddress.length;a++){var r=d.liveAddress[a];if(s.live.name==r.name){e=this.getCPIIntMoney(r[s.live.type]*s.live.area);break}}this.livePlace.string=s.live.name+"\u533a"+this.getLiveTypeName(s.live.type)+this.getRoomTypeName(s.live.area),this.liveMoney.string="\uffe5"+e},nextMonth:function(){var e=this;if(this.clickable){var t=this.node.getChildByName("bgBlack");this.clickable=!1,this.commitData(),cc.tween(t).to(1.5,{opacity:255}).to(.2,{opacity:255}).to(1.5,{opacity:0}).call(function(){e.clickable=!0,e.refresh()}).start()}},sliderCallback:function(e){for(var t=[this.sliderLearn,this.sliderSocial,this.sliderHappy,this.sliderExercise,this.sliderRest],o=[this.sliderLearnProgress,this.sliderSocialProgress,this.sliderHappyProgress,this.sliderExerciseProgress,this.sliderRestProgress],i=1,n=0,a=0;a<t.length;a++)-1==e.name.indexOf(t[a].name)?i-=t[a].progress:n=a;e.progress>i&&(e.progress=i),e.progress=Number(e.progress.toFixed(2)),o[n].string=(100*e.progress).toFixed(0)+"%",this.leftTime=i-e.progress,this.leftTimeLabel.string="\u4e1a\u4f59\u65f6\u95f4:"+(100*this.leftTime).toFixed(0)+"%"},commitData:function(){if(this.workList.length>0&&(this.workToggle1.isChecked?(s.work=this.workList[0],this.workToggle1.isChecked=!1,this.findWorkToggle.isChecked=!1,s.work_times++,s.work_month=0):this.workToggle2.isChecked?(s.work=this.workList[1],this.workToggle2.isChecked=!1,this.findWorkToggle.isChecked=!1,s.work_times++,s.work_month=0):this.workToggle3.isChecked&&(s.work=this.workList[2],this.workToggle3.isChecked=!1,this.findWorkToggle.isChecked=!1,s.work_times++,s.work_month=0)),console.log("thisWork",s.work),s.work){s.work_month++;var e=this.getIncomeAfterTax(s.work.money*(this.findWorkToggle.isChecked?.8:1));s.work.characteristic.talkKnow[0].characteristic==d.companyCharacteristic.talkKnow[0].good?(s.money=s.money+e.leftIncome+s.temp_money,s.temp_money=0):(s.money=s.money+s.temp_money,s.temp_money=e.leftIncome),s.housing_accumulation_funds=s.housing_accumulation_funds+e.housingAccumulationFunds,this.currentMonthBill.addTax(e.taxPay)}else s.work_month=0,s.money=s.money+s.temp_money,s.temp_money=0;this.quitWorkToggle.isChecked&&(s.work=void 0,s.work_month=0,this.quitWorkToggle.isChecked=!1),this.setCommitInfo(),s.money=s.money-this.getMonthEndPayMoney(),this.setBill(),this.liveMonth++},setCommitInfo:function(){if(s.work)for(var e=s.work.characteristic.canKnow,t=s.work.characteristic.talkKnow,o=s.work.characteristic.cannotKnow,n=e.concat(t).concat(o),a=d.companyCharacteristic.canKnow.concat(d.companyCharacteristic.talkKnow).concat(d.companyCharacteristic.cannotKnow),r=0;r<n.length;r++)if(n[r].characteristic==a[r].bad)for(var c,l=i(a[r].badEffect);!(c=l()).done;){var h=c.value;this.setMeDataInfo(h)}else if(n[r].characteristic==a[r].normal)for(var m,p=i(a[r].normalEffect);!(m=p()).done;){var g=m.value;this.setMeDataInfo(g)}else if(n[r].characteristic==a[r].good)for(var u,f=i(a[r].goodEffect);!(u=f()).done;){var v=u.value;this.setMeDataInfo(v)}if(s.live)for(var y,b=i(d.liveInfoEffect);!(y=b()).done;){var T=y.value;if(s.live.type==T.type)for(var w,C=i(T.effect);!(w=C()).done;){var L=w.value;this.setMeDataInfo(L)}}},setMeDataInfo:function(e){s[e.name]&&(h.getFixedFourFloatNumber(e.number/1e3),"add"==e.action?s[e.name]=s[e.name]+e.number:"reduce"==e.action&&(s[e.name]=s[e.name]-e.number))},setBill:function(){var e=cc.instantiate(this.billItemLayout);e.active=!0;var t=cc.find("date",e).getComponent(cc.Label),o=cc.find("tax",e).getComponent(cc.Label),i=cc.find("clothing",e).getComponent(cc.Label),n=cc.find("eat",e).getComponent(cc.Label),a=cc.find("live",e).getComponent(cc.Label),r=cc.find("commute",e).getComponent(cc.Label),s=cc.find("eleWaterNet",e).getComponent(cc.Label),c=cc.find("lifeThings",e).getComponent(cc.Label),l=cc.find("relative",e).getComponent(cc.Label),h=cc.find("play",e).getComponent(cc.Label),d=cc.find("exercise",e).getComponent(cc.Label),m=cc.find("other",e).getComponent(cc.Label),p=cc.find("all",e).getComponent(cc.Label);t.string=parseInt(this.totalMonth/12)+"\u5e74"+(this.totalMonth%12+1)+"\u6708",o.string=this.currentMonthBill.tax,i.string=this.currentMonthBill.clothing,n.string=this.currentMonthBill.eat,a.string=this.currentMonthBill.live,r.string=this.currentMonthBill.commute,s.string=this.currentMonthBill.eleWaterNet,c.string=this.currentMonthBill.lifeThings,l.string=this.currentMonthBill.relative,h.string=this.currentMonthBill.play,d.string=this.currentMonthBill.exercise,m.string=this.currentMonthBill.other,p.string=this.currentMonthBill.all,this.billPopoverContent.addChild(e)},refresh:function(){this.doScrollView.scrollToTop(),this.billScrollView.scrollToBottom(),this.totalMonth++,this.currentCPI=r.generateCPIByYear(this.totalMonth),this.showTopToast(parseInt(this.totalMonth/12)+"\u5e74"+(this.totalMonth%12+1)+"\u67081\u53f7"),c.total_month++,this.currentMonthBill.reset(),this.getEvent();var e=cc.find("Canvas/bgWhite/monthSimpleScrollView/view/content/incomeLayout/money").getComponent(cc.Label);if(s.work?e.string=s.work.money:e.string=0,c.total_month>12&&c.total_month%12==1&&s.work)switch(s.work.characteristic.canKnow[1].characteristic){case d.companyCharacteristic.canKnow[1].bad:break;case d.companyCharacteristic.canKnow[1].normal:s.money=s.money+s.work_month>=12?s.work.money:this.getIntMoney(s.work_month/12*s.work.money);break;case d.companyCharacteristic.canKnow[1].good:s.money=s.money+3*(s.work_month>=12?s.work.money:this.getIntMoney(s.work_month/12*s.work.money))}this.refreshWork(),this.refreshLive(),this.refreshMapIcon(),this.refreshLeftTimeHour(),this.refreshEatPay(),this.refreshClothingPay(),this.refreshLifeThingsPay(),this.refreshInfo(),s.money=s.money-this.getMonthStartPayMoney(),this.money.getComponent(cc.Label).string=s.money,this.housingAccumulationFunds.string=s.housing_accumulation_funds,s.money<=0&&this.showTopToast("\u6e38\u620f\u7ed3\u675f\uff0c\u56de\u8001\u5bb6"),console.log("totalMonth",this.totalMonth)},refreshWork:function(){this.workList=[],this.workPopover.removeAllChildren(!0);var e=cc.find("Canvas/bgWhite/monthSimpleScrollView/view/content/workToggleLayout");if(e.active=!1,this.findWorkToggle.isChecked){e.active=!0,this.workList=h.getWork(s.power,this.totalMonth,this.currentCPI,s.work_times),console.log(this.workList);var t=cc.find("Canvas/bgWhite/monthSimpleScrollView/view/content/workToggleLayout/workToggleContainer/talk1"),o=cc.find("Canvas/bgWhite/monthSimpleScrollView/view/content/workToggleLayout/workToggleContainer/talk2"),n=cc.find("Canvas/bgWhite/monthSimpleScrollView/view/content/workToggleLayout/workToggleContainer/talk3"),a=cc.find("Canvas/bgWhite/monthSimpleScrollView/view/content/workToggleLayout/workToggleContainer/noJob"),r=[{workToggle:this.workToggle1,workToggleLabel:this.workToggleLabel1,talk:t},{workToggle:this.workToggle2,workToggleLabel:this.workToggleLabel2,talk:o},{workToggle:this.workToggle3,workToggleLabel:this.workToggleLabel3,talk:n}];a.opacity=0,a.active=!1,0==this.workList.length&&(a.opacity=255,a.active=!0);for(var c=0;c<3;c++){var l=r[c].workToggle,d=r[c].workToggleLabel,m=r[c].talk;if(l.isChecked=!1,l.node.active=!1,m.opacity=0,m.active=!1,c<this.workList.length){d.string="\u6708\u85aa:"+this.workList[c].money;for(var p,g=i(this.workList[c].characteristic.canKnow);!(p=g()).done;){var u=p.value;d.string=d.string+(d.string?",":"")+u.characteristic}l.node.active=!0,m.opacity=255,m.active=!0}}}},workToggleEvent:function(e){e.isChecked?(this.findWorkToggle.isChecked=!1,this.findWorkLayout.active=!1,this.findWorkLayout.opacity=0):(this.findWorkLayout.active=!0,this.findWorkLayout.opacity=255,this.findWorkToggle.isChecked=!0),this.refreshLeftTimeHour()},findWorkToggleEvent:function(){this.refreshLeftTimeHour()},sleepToggleEvent:function(e){var t=e;-1!=t.name.indexOf("sleepToggle1")?this.sleepTime=5:-1!=t.name.indexOf("sleepToggle2")?this.sleepTime=7:-1!=t.name.indexOf("sleepToggle3")&&(this.sleepTime=8),this.refreshLeftTimeHour()},refreshLeftTimeHour:function(){var e=s.work;this.workList.length>0&&(this.workToggle1.isChecked?e=this.workList[0]:this.workToggle2.isChecked?e=this.workList[1]:this.workToggle3.isChecked&&(e=this.workList[2]));var t=0;switch(e&&(e.characteristic.canKnow[0].characteristic==d.companyCharacteristic.canKnow[0].good?t=1:e.characteristic.canKnow[0].characteristic==d.companyCharacteristic.canKnow[0].normal?t=2:e.characteristic.canKnow[0].characteristic==d.companyCharacteristic.canKnow[0].bad&&(t=3)),t){case 0:this.leftTimeHour=30*(24-this.sleepTime-2)-4*(this.findWorkToggle.isChecked?8:0);break;case 1:this.leftTimeHour=22*(24-this.sleepTime-1.5-this.distance/3e4-8)+8*(24-this.sleepTime-2);break;case 2:this.leftTimeHour=22*(24-this.sleepTime-1.5-this.distance/3e4-10)+8*(24-this.sleepTime-2-1);break;case 3:this.leftTimeHour=26*(24-this.sleepTime-1-this.distance/3e4-12)+4*(24-this.sleepTime-2)}this.leftTimeHour=this.leftTimeHour.toFixed(2),this.leftTimeLabel=d.leftTimeLabel[t].label,this.leftTimeHourLabel.string=this.leftTimeHour,this.leftTimePopover.removeAllChildren(!0);var o=cc.instantiate(this.pbLabel);o.getComponent(cc.Label).string=this.leftTimeLabel,this.leftTimePopover.addChild(o)},showSimpleLabelPopover:function(e){this.simpleLabelPopover.removeAllChildren(!0);var t=cc.instantiate(this.pbLabel);t.getComponent(cc.Label).string=e,this.simpleLabelPopover.addChild(t),this.simpleLabelPopover.active=!0,this.simpleLabelPopover.opacity=255},hideSimpleLabelPopover:function(){this.simpleLabelPopover.active=!1,this.simpleLabelPopover.opacity=0},showTopToast:function(e){this.toastList.push(e),this.showTopToastCurrent()},showTopToastCurrent:function(){var e=this;if(this.toastList&&this.toastList.length>0)if(this.toastShowing)setTimeout(this.showTopToastCurrent,1e3);else{this.toastShowing=!0;var t=this.node.getChildByName("topToast");t.removeAllChildren(!0);var o=cc.instantiate(this.pbLabel);o.getComponent(cc.Label).string=this.toastList[0],this.toastList.shift(),t.addChild(o),cc.tween(t).to(1.5,{opacity:150}).to(1,{opacity:150}).to(1.5,{opacity:0}).call(function(){e.toastShowing=!1,e.showTopToastCurrent()}).start()}},getMonthEndPayMoney:function(){var e=0,t=cc.find("Canvas/bgWhite/monthSimpleScrollView/view/content/eatToggleLayout/eatToggleContainer/eatToggle1").getComponent(cc.Toggle),o=cc.find("Canvas/bgWhite/monthSimpleScrollView/view/content/eatToggleLayout/eatToggleContainer/eatToggle2").getComponent(cc.Toggle),i=cc.find("Canvas/bgWhite/monthSimpleScrollView/view/content/eatToggleLayout/eatToggleContainer/eatToggle3").getComponent(cc.Toggle),n=cc.find("Canvas/bgWhite/monthSimpleScrollView/view/content/clothingToggleLayout/clothingToggleContainer/clothingToggle1").getComponent(cc.Toggle),a=cc.find("Canvas/bgWhite/monthSimpleScrollView/view/content/clothingToggleLayout/clothingToggleContainer/clothingToggle2").getComponent(cc.Toggle),r=cc.find("Canvas/bgWhite/monthSimpleScrollView/view/content/lifeThingsToggleLayout/lifeThingsToggleContainer/lifeThingsToggle1").getComponent(cc.Toggle),c=cc.find("Canvas/bgWhite/monthSimpleScrollView/view/content/lifeThingsToggleLayout/lifeThingsToggleContainer/lifeThingsToggle2").getComponent(cc.Toggle),l=cc.find("Canvas/bgWhite/monthSimpleScrollView/view/content/lifeThingsToggleLayout/lifeThingsToggleContainer/lifeThingsToggle3").getComponent(cc.Toggle),h=0;t.isChecked?h=this.getCPIIntMoney(660):o.isChecked?h=this.getCPIIntMoney(1250):i.isChecked&&(h=this.getCPIIntMoney(2600));var d=0;n.isChecked?d=this.getCPIIntMoney(200):a.isChecked&&(d=this.getCPIIntMoney(500));var m=0;r.isChecked?m=this.getCPIIntMoney(200):c.isChecked?m=this.getCPIIntMoney(500):l.isChecked&&(m=this.getCPIIntMoney(1e3));var p=0;return s.live&&s.live.name&&("bad"==s.live.type?p=this.getCPIIntMoney(100):"normal"==s.live.type?p=this.getCPIIntMoney(200):"good"==s.live.type&&(p=this.getCPIIntMoney(200))),e=h+d+m+p,this.currentMonthBill.addEat(h),this.currentMonthBill.addClothing(d),this.currentMonthBill.addLifeThings(m),this.currentMonthBill.addEleWaterNet(p),this.currentMonthBill.addOther(this.otherPay),this.otherPay=0,parseInt(e.toFixed(0))},getMonthStartPayMoney:function(){for(var e=0,t=0,o=0;o<d.liveAddress.length;o++){var i=d.liveAddress[o];if(s.live.name==i.name){t=this.getCPIIntMoney(i[s.live.type]*s.live.area);var n=0;"good"==s.live.type&&(n=this.getCPIIntMoney(2.5*s.live.area)),t+=n;break}}return e=t,this.currentMonthBill.addLive(t),parseInt(e.toFixed(0))},refreshEatPay:function(){this.eatLabel1.string=this.getCPIIntMoney(660),this.eatLabel2.string=this.getCPIIntMoney(1250),this.eatLabel3.string=this.getCPIIntMoney(2600)},refreshClothingPay:function(){this.clothingLabel1.string=this.getCPIIntMoney(200),this.clothingLabel2.string=this.getCPIIntMoney(500)},refreshLifeThingsPay:function(){this.lifeThingsLabel1.string=this.getCPIIntMoney(200),this.lifeThingsLabel2.string=this.getCPIIntMoney(500),this.lifeThingsLabel3.string=this.getCPIIntMoney(1e3)},refreshInfo:function(){this.powerProgressBar.progress=h.getFixedFourFloatNumber(s.power/h.getSocialPower(this.totalMonth)),this.moodProgressBar.progress=h.getFixedFourFloatNumber(s.mood/1e3),this.healthProgressBar.progress=h.getFixedFourFloatNumber(s.health/1e3),this.charmProgressBar.progress=h.getFixedFourFloatNumber(s.charm/1e3),this.relativeProgressBar.progress=h.getFixedFourFloatNumber(s.relative/1e3),this.hopeProgressBar.progress=h.getFixedFourFloatNumber(s.hope/1e3),this.pressureProgressBar.progress=h.getFixedFourFloatNumber(s.pressure/1e3),this.tiredProgressBar.progress=h.getFixedFourFloatNumber(s.tired/1e3),this.insomniaProgressBar.progress=h.getFixedFourFloatNumber(s.pressure/2e3+(1e3-s.mood)/2e3);var e={powerProgressBar:this.powerProgressBar,moodProgressBar:this.moodProgressBar,healthProgressBar:this.healthProgressBar,charmProgressBar:this.charmProgressBar,relativeProgressBar:this.relativeProgressBar,hopeProgressBar:this.hopeProgressBar,pressureProgressBar:this.pressureProgressBar,tiredProgressBar:this.tiredProgressBar,insomniaProgressBar:this.insomniaProgressBar},t="";for(var o in e)t=t+o+":"+e[o].progress+"===";console.log(t)},getCPIIntMoney:function(e){return parseInt((e*this.currentCPI).toFixed(0))},getIntMoney:function(e){return parseInt(e.toFixed(0))},getLiveTypeName:function(e){switch(e){case"bad":return"\u57ce\u4e2d\u6751\u9634\u6697\u623f";case"normal":return"\u57ce\u4e2d\u6751\u666e\u901a\u623f";case"good":default:return"\u5c0f\u533a"}},getRoomTypeName:function(e){for(var t=0;t<d.liveAreaType.length;t++)if(d.liveAreaType[t].area==e)return d.liveAreaType[t].name},getIncomeAfterTax:function(e){var t=0,o=0,i=0,n=this.getCPIIntMoney(d.gov.socialInsurance*e),a=this.getCPIIntMoney(d.gov.housingAccumulationFunds*e);switch(s.work.characteristic.talkKnow[1].characteristic){case d.companyCharacteristic.talkKnow[1].bad:t=e-this.getCPIIntMoney(d.gov.socialInsuranceLimit),i=this.getCPIIntMoney(d.gov.socialInsuranceLimit);break;case d.companyCharacteristic.talkKnow[1].normal:o=200,t=e-n-d.gov.housingAccumulationFundsLimit,i=n+d.gov.housingAccumulationFundsLimit;break;case d.companyCharacteristic.talkKnow[1].good:o=this.getCPIIntMoney(.2*e),t=e-n-a,i=n+a}var r=0;return t>2e4?(r=(t-2e4)*(1-d.gov.twentyThousandTax),i=i+((t=1e4+1e4*(1-d.gov.tenThousandTax)+r)-2e4)*d.gov.twentyThousandTax+1e4*d.gov.tenThousandTax):t>1e4&&(i+=((t=1e4+(t-1e4)*(1-d.gov.tenThousandTax))-1e4)*d.gov.tenThousandTax),{leftIncome:t,housingAccumulationFunds:o,taxPay:i}}}),cc._RF.pop()},{"./db/BillHistory":"BillHistory","./db/Event":"Event","./db/Me":"Me","./db/Social":"Social","./db/Wife":"Wife",Config:"Config",DataUtil:"DataUtil",getData:"getData"}],Me:[function(e,t){"use strict";cc._RF.push(t,"50bdcMVRgJIM49J7lJQKIvA","Me");t.exports={money:5e3,housing_accumulation_funds:0,marry:0,give_marry_money:0,wife:0,has_work:0,find_work:0,work_money:0,work_times:0,work:void 0,work_month:{},temp_money:0,live:{name:"11",type:"bad",area:30},power:500,mood:800,health:600,charm:500,relative:0,hope:700,pressure:100,tired:100},cc._RF.pop()},{}],MonthScrollView:[function(e,t){"use strict";cc._RF.push(t,"51b33PbjXxDU6L75qoyaHC4","MonthScrollView");var o=e("BaseItem");cc.Class({extends:cc.Component,properties:{pfb_itemA:{type:cc.Prefab,default:null},pfb_itemB:{type:cc.Prefab,default:null},node_content:{type:cc.Node,default:null},itemSpace:20},onLoad:function(){this.dataSet=[],this.activeNodes=[],this.itemHeightA=this.pfb_itemA.data.height,this.itemHeightB=this.pfb_itemB.data.height,this.lineHeight=Math.max(this.itemHeightA,this.itemHeightB)+this.itemSpace,this.visitedItemCount=parseInt(this.node.height/this.lineHeight),this.extraItemCount=this.visitedItemCount+1>>1,this.activeItemCount=this.visitedItemCount+2*this.extraItemCount,this.safeAreaHeight=this.extraItemCount*this.lineHeight,this.activeAreaHeight=this.activeItemCount*this.lineHeight,this.contentNodeLastY=0,this.contentHeight=500,this.activeHeadIndex=0,this.activeTailIndex=0,this.node.on("scrolling",this.onScrolling,this)},init:function(e){this.eventListener=e},setData:function(e){this.dataSet=e,this.contentHeight=0,this.node_content.removeAllChildren(!0);for(var t=0;t<this.dataSet.length;t++){var i;i="editBox"==this.dataSet[t].type?this.pfb_itemA:this.pfb_itemB,this.contentHeight=this.contentHeight+i.data.height+this.itemSpace}this.node_content.height=this.contentHeight;for(var n=Math.min(this.dataSet.length,this.activeItemCount),a=0;a<n;a++){var r;r="editBox"==this.dataSet[a].type?this.pfb_itemA:this.pfb_itemB;var s=cc.instantiate(r);s.getComponent(o).init(this.eventListener),this.setItemNode(s,a),this.node_content.addChild(s),this.activeNodes.push(s)}this.activeHeadIndex=0,this.activeTailIndex=n-1},setItemNode:function(e,t){var i=this.dataSet[t];e.getComponent(o).setItem(i);for(var n=0,a=0;a<t;a++)n=n+("editBox"==this.dataSet[a].type?this.pfb_itemA:this.pfb_itemB).data.height+this.itemSpace;e.y=-n},onScrolling:function(){var e=this.node_content.y>this.contentNodeLastY;this.contentNodeLastY=this.node_content.y;var t=this.activeNodes[0],i=this.node_content.y+t.y;if(e){if(i>this.safeAreaHeight&&this.activeTailIndex+1<this.dataSet.length){var n;t=this.activeNodes.shift(),n="editBox"==this.dataSet[this.activeTailIndex+1].type?this.pfb_itemA:this.pfb_itemB;var a=cc.instantiate(n);a.getComponent(o).init(this.eventListener),this.activeNodes.push(a),this.node_content.removeChild(t),this.node_content.addChild(a),this.activeTailIndex++,this.activeHeadIndex++,this.setItemNode(a,this.activeTailIndex)}}else if(i<this.safeAreaHeight&&this.activeHeadIndex>0){var r,s=this.activeNodes.pop();this.node_content.removeChild(s),this.activeTailIndex--,this.activeHeadIndex--,r="editBox"==this.dataSet[this.activeHeadIndex].type?this.pfb_itemA:this.pfb_itemB;var c=cc.instantiate(r);c.getComponent(o).init(this.eventListener),this.activeNodes.unshift(c),this.node_content.addChild(c,0),this.setItemNode(c,this.activeHeadIndex)}}}),cc._RF.pop()},{BaseItem:"BaseItem"}],MonthSimpleScrollView:[function(e,t){"use strict";cc._RF.push(t,"12700xNYbtBcJO0JfPig1lU","MonthSimpleScrollView"),e("BaseItem"),cc.Class({extends:cc.Component,properties:{node_content:{type:cc.Node,default:null},item_layout:{type:cc.Node,default:null},itemSpace:20},onLoad:function(){},init:function(e){this.eventListener=e},setData:function(){this.node_content.removeAllChildren(!0),this.node_content.height=this.item_layout.height,this.item_layout.y=this.node_content.y,this.node_content.addChild(this.item_layout)}}),cc._RF.pop()},{BaseItem:"BaseItem"}],Social:[function(e,t){"use strict";cc._RF.push(t,"c6d29/Ed0dAxraneX3nxBLv","Social"),t.exports={total_month:0},cc._RF.pop()},{}],StartPage:[function(e,t){"use strict";cc._RF.push(t,"280c3rsZJJKnZ9RqbALVwtK","StartPage"),cc.Class({extends:cc.Component,properties:{label:{default:null,type:cc.Label,string:""},text:"Hello, World!"},onLoad:function(){this.label&&(this.label.string=this.text)},update:function(){},start_click:function(){cc.director.loadScene("MainPage")}}),cc._RF.pop()},{}],Wife:[function(e,t){"use strict";cc._RF.push(t,"764dcg3abZBNY8bDtLIPPbN","Wife"),t.exports={money:2e3},cc._RF.pop()},{}],getData:[function(e,t){"use strict";function o(e,t){var o;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(o=i(e))||t&&e&&"number"==typeof e.length){o&&(e=o);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(o=e[Symbol.iterator]()).next.bind(o)}function i(e,t){if(e){if("string"==typeof e)return n(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);return"Object"===o&&e.constructor&&(o=e.constructor.name),"Map"===o||"Set"===o?Array.from(e):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?n(e,t):void 0}}function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,i=new Array(t);o<t;o++)i[o]=e[o];return i}cc._RF.push(t,"f6cc86Va15Jaa2tllzHRbC+","getData");var a=e("Config"),r={getWork:function(e,t,i,n){var r=[],s=parseInt(t/12),c=1;n>s&&(c=1-(n-s)/5)<.3&&(c=.3);for(var l=0;l<3;l++)if(Math.random()<e/this.getSocialPower(t)*c){var h={};h.company=this.getCompany(),h.characteristic=this.getCompanyCharacteristic();for(var d,m=!1,p=parseInt((e/this.getSocialPower(t)*1e4*h.company.ratio*i/100).toString())*a.powerToMoneyRatio,g=o(h.characteristic.canKnow);!(d=g()).done;){var u=d.value;if(u.name==a.companyCharacteristic.canKnow[0].name){u.characteristic==a.companyCharacteristic.canKnow[0].bad&&(m=!0);break}}p*=m?1.2:1,h.money=this.getRoundMoneyHundred(p),r.push(h)}return r},getCompany:function(){var e=a.company;return this.getRateItem(e)},getCompanyCharacteristic:function(){var e=a.companyCharacteristic,t={canKnow:[],talkKnow:[],cannotKnow:[],type:""},i=this.getRateItem([{name:"good",rate:.1},{name:"normal",rate:.6},{name:"bad",rate:.3}]),n=0,r=0;"good"==i.name?(n=.6,r=.3):"normal"==i.name?(n=.1,r=.7):(n=0,r=.4),t.type=i.name;for(var s,c=o(e.canKnow);!(s=c()).done;){var l=s.value,h=Math.random(),d={};d.name=l.name,d.characteristic=h<=n?l.good:h<=n+r?l.normal:l.bad,t.canKnow.push(d)}for(var m,p=o(e.talkKnow);!(m=p()).done;){var g=m.value,u=Math.random(),f={};f.name=g.name,f.characteristic=u<=n?g.good:u<=n+r?g.normal:g.bad,t.talkKnow.push(f)}for(var v,y=o(e.cannotKnow);!(v=y()).done;){var b=v.value,T=Math.random(),w={};w.name=b.name,w.characteristic=T<=n?b.good:T<=n+r?b.normal:b.bad,t.cannotKnow.push(w)}return t},getRateItem:function(e){for(var t,i=0,n=Math.random(),a="",r=o(e);!(t=r()).done;){var s=t.value;if(i+=s.rate,0<=n&&n<=i){a=s;break}}return a||(a=e[e.length-1]),a},getRoundMoneyHundred:function(e){var t=parseInt((e/100).toString())%10,o=parseInt((e/1e3).toString());return t<3?t=0:t<8?t=5:(t=0,o++),100*(10*o+t)},getSocialPower:function(e){return a.defaultPower+10*e},getFixedFourFloatNumber:function(e){return parseFloat(e.toFixed(4))}};t.exports=r,cc._RF.pop()},{Config:"Config"}],"use_v2.1-2.2.1_cc.Toggle_event":[function(e,t){"use strict";cc._RF.push(t,"230ffJwcOdI656ff2BUKMW6","use_v2.1-2.2.1_cc.Toggle_event"),cc.Toggle&&(cc.Toggle._triggerEventInScript_isChecked=!0),cc._RF.pop()},{}]},{},["Config","DataUtil","EventGenerater","MainPage","StartPage","BaseItem","ItemLayoutA","ItemLayoutB","MonthScrollView","MonthSimpleScrollView","BillHistory","Event","Me","Social","Wife","getData","use_v2.1-2.2.1_cc.Toggle_event"]);